<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Mushfekur  Rahman | Apriori and FP-Growth Performance Analysis</title>
<meta name="description" content="Official website of Mushfekur Rahman showcasing his works, education, and accomplishments.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/projects/data_mining_project/">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C4383F7YQG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C4383F7YQG');
</script>

<!-- Theming-->


    
<!-- MathJax -->
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
<!--      <a class="navbar-brand title font-weight-lighter" href="/">-->
<!--       <span class="font-weight-bold">Mushfekur</span>   Rahman-->
<!--      </a>-->
      
      <!-- Navbar Toogle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              About
              
            </a>
          </li>
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/academics/">
                Academics
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/industry-experience/">
                Industry Experience
                
              </a>
          </li>
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                Projects
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/research/">
                Research
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/resume/">
                Resume
                
              </a>
          </li>
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/talks/">
                Talks
                
              </a>
          </li>
          
          
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      <div class="post">

  <header class="post-header">
    <h1 class="post-title">Apriori and FP-Growth Performance Analysis</h1>
    <p class="post-description">Implemented these two frequent pattern mining algorithms and compared performances on a standard dataset</p>
  </header>

  <article>
    <h4 id="objectives">Objectives</h4>
<p>This study was done as a part of Data Mining Lab project and this dataset is used: <a href="http://fimi.ua.ac.be/data/retail.dat">http://fimi.ua.ac.be/data/retail.dat</a>.</p>

<p>Source code and test files are available here in <a href="https://github.com/mushfek/frequent-pattern-mining">Github</a>;</p>

<h4 id="explanation">Explanation</h4>
<p>(1) run.sh:</p>

<p>Executing the command: <code class="language-plaintext highlighter-rouge">sh run.sh retail.txt X -apriori output</code> generates a file output.txt containing the frequent itemsets at &gt;=X% support threshold with the Apriori algorithm. Similarly, executing the command <code class="language-plaintext highlighter-rouge">sh run.sh retail.txt X -fptree output</code> generates a file output.txt containing the frequent itemsets using FP-tree algorithm. 
X is in percentage and not the absolute count. Our implementations ensure that the transactions are not loaded into main memory. However, the frequent patterns and candidate sets are stored in memory.</p>

<p>output.txt follows the following format:</p>
<ol>
  <li>Each frequent itemset is on a new line.</li>
  <li>The items in each itemset are space separated.</li>
</ol>

<p>(2) FPTree.java</p>

<p>Node class is the node element used to form fp-tree. It contains:</p>
<ul>
  <li>item: element name - integer in this case</li>
  <li>count: count of the item</li>
  <li>parent: its parent in fptree</li>
  <li>next: pointer to next node in fptree containing same element</li>
  <li>chidren: list of its children</li>
</ul>

<p>FPTree class contains the implementation of the fp-tree and fp-growth for mining frequent itemsets. It contains:</p>
<ul>
  <li>root: root of the tree - null in this case</li>
  <li>HeaderTable: Hash map for accessing the nodes of a particular element in the tree</li>
  <li>flist: List of all elements in decreasing order of their support</li>
  <li>minSup: minimum support for this tree in percentage</li>
</ul>

<p>Functions:</p>
<ul>
  <li>makeHashmap: takes transactions and makes a hashmap of support counts corresponding to each item in DB</li>
  <li>sortHashmap: generates flist from hashmap</li>
  <li>RemoveNonFrequent: removes non frequent items from every transaction and arranges the items in each transaction as per flist</li>
  <li>insert: given a transaction, inserts a path in the fp tree and also links the node to header table</li>
  <li>constructTree: constructs the initial fp-tree from datafile</li>
  <li>buildCPB: builds the conditional pattern base given an item and fp tree</li>
  <li>generateFPT: generates conditional fp tree given the CPB</li>
  <li>FPgrowth: implements the fp-growth algorithm and mines all the frequent item sets</li>
  <li>getAllComb: returns all combinations of a list</li>
</ul>

<p>(3) Apriori.java</p>

<p>Variable names and their purposes:</p>
<ul>
  <li>old_item_set : stores last iteration frequent itemsets for candidate generation.</li>
  <li>curr_item_set : current candidate item_set.</li>
  <li>counter : for storing frequency of candidate item_sets.</li>
  <li>is_mergable : checks if two item_set are mergable for generating candidate item_set of greater size.</li>
  <li>is_pruned : checks if candidate itemset was pruned.</li>
  <li>transaction : Stores the currently accessed transaction set from dataset.</li>
  <li>support,support_perc : Stores support threshold and its precentage.</li>
  <li>input_file,output_file : names of input and output files.</li>
</ul>

<p>Functions</p>
<ul>
  <li>bin_search : returns true if a item_set exists in old_item_set</li>
  <li>generate_F1 : generates single size frequent itemsets by itearting in dataset.</li>
  <li>generateFreqItemSets : generates iteratively all the frequent itemset.</li>
</ul>

<p>Apriori.java implements apriori algorithm for mining frequent itemsets. Function generateFreqItemSets takes input file name, 
output file name and support percentage, reads data set from input file and writes all the frequent item sets in output file with given support.</p>

<p>(4) Test.java: Contains the main function. Executes fp-growth or apriori depending on the arguments given. Call to this is made by the bash file</p>

<p>(5) plot.py</p>

<p>Generates a plot using matplotlib where the x-axis varies the support threshold and y-axis shows the corresponding running times.
It plots the running times of apriori and fptree at support thresholds of 1%, 5%, 10%, 25%, 50%, and 90%</p>

<div class="row">
    <div class="col-sm mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" src="/assets/img/Plot.png" alt="" title="Running time plot" />
    </div>
</div>
<p><br /></p>

<p>(6) check.py: Checks if results of two output files match</p>

<p>(7) create_dataset.py: Creates a random dataset of integers similar to retail.txt</p>

<p>The performance of Apriori algorithm is compared with FP-tree in the report.</p>

<p>Executing the command: <code class="language-plaintext highlighter-rouge">sh run.sh retail.txt -plot</code> generates a plot using plot.py
The results obtained are explained as follows.</p>

<h4 id="performance-of-fp-growth-vs-apriori">Performance of FP-growth v/s Apriori</h4>
<p>The analysis shows that, running time of FP-growth is lesser than Apriori algorithm. Also, with increase in support threshold, the running time of both Apriori and FP-growth decrease. The decrease for FP-growth is less as compared to Apriori.</p>

<p>In Apriori, the pattern matching operation of comparing candidate sets with transactions becomes expensive due to the increasing size of candidate sets. As large number of candidates are generated, they require more memory space. The breadth first search approach can be quite costly in terms of memory as it requires at any moment to keep in the worst case all k and k − 1 itemsets in memory (for k &gt; 1).</p>

<p>On the other hand, for fp-tree, there is no candidate generation and hence it requires less memory. It removes the need to calculate the pairs to be counted (which requires expensive computation). The FP-Growth algorithm stores in memory a compact version of the database. 
A major advantage of fp-growth algorithm is that it only explores the frequent itemsets in the search space, thus avoiding considering many itemsets not appearing in the database, i.e.,  infrequent itemsets.</p>

<p>With the increase in number of items, more search space is needed and I/O will also increase for Apriori. Apriori requires more database scans as compared to fp-growth; whenever new candidates are generated, DB scan is required. However, FP- tree requires only 2 DB scans.
Thus, fp-growth is much better computationally.</p>

<p>Another limitation of Apriori is that the time complexity is O(m^2 * n), where m is the number of distinct items and n is the number of transactions. On the other hand, fp-growth algorithm is O(n) which is much faster than Apriori.</p>


  </article>

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    &copy; Copyright 2020 Mushfekur  Rahman.
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme (customized and modified upon necessity). Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>.

    
  </div>
</footer>



  </body>

  <!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  



<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

<!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>


</html>
